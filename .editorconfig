# EditorConfig helps maintain consistent coding styles
# https://editorconfig.org

root = true

[*]
indent_style = space
indent_size = 4
end_of_line = crlf
charset = utf-8
trim_trailing_whitespace = true
insert_final_newline = true

[*.{cs,csx}]
indent_size = 4

[*.{json,yml,yaml}]
indent_size = 2

[*.md]
trim_trailing_whitespace = false

# C# Coding Conventions
[*.cs]
# Organize usings
dotnet_sort_system_directives_first = true
dotnet_separate_import_directive_groups = false

# Avoid "this." and "Me." if not necessary
dotnet_style_qualification_for_field = false:suggestion
dotnet_style_qualification_for_property = false:suggestion
dotnet_style_qualification_for_method = false:suggestion
dotnet_style_qualification_for_event = false:suggestion

# Use language keywords instead of framework type names
dotnet_style_predefined_type_for_locals_parameters_members = true:suggestion
dotnet_style_predefined_type_for_member_access = true:suggestion

# Modifier preferences
dotnet_style_require_accessibility_modifiers = for_non_interface_members:suggestion

# Expression-level preferences
dotnet_style_object_initializer = true:suggestion
dotnet_style_collection_initializer = true:suggestion
dotnet_style_explicit_tuple_names = true:suggestion
dotnet_style_null_propagation = true:suggestion
dotnet_style_coalesce_expression = true:suggestion
dotnet_style_prefer_is_null_check_over_reference_equality_method = true:suggestion
dotnet_style_prefer_auto_properties = true:suggestion

# C# style rules
csharp_style_var_for_built_in_types = false:suggestion
csharp_style_var_when_type_is_apparent = true:suggestion
csharp_style_var_elsewhere = false:suggestion

csharp_style_expression_bodied_methods = when_on_single_line:suggestion
csharp_style_expression_bodied_constructors = false:suggestion
csharp_style_expression_bodied_operators = when_on_single_line:suggestion
csharp_style_expression_bodied_properties = when_on_single_line:suggestion
csharp_style_expression_bodied_indexers = when_on_single_line:suggestion
csharp_style_expression_bodied_accessors = when_on_single_line:suggestion

# Namespace preferences
csharp_style_namespace_declarations = file_scoped:suggestion

# New line preferences
csharp_new_line_before_open_brace = all
csharp_new_line_before_else = true
csharp_new_line_before_catch = true
csharp_new_line_before_finally = true

# Generated code - relax rules that are noisy for auto-generated files
[**/Generated/**.cs]
# Disable naming warnings (generated code may not follow conventions)
dotnet_diagnostic.IDE1006.severity = none

# Disable documentation warnings (generated code has its own docs)
dotnet_diagnostic.CS1591.severity = none

# Disable lowercase type name warnings (Power Platform uses lowercase for enums)
dotnet_diagnostic.CS8981.severity = none

# Disable nullable warnings (generated code handles nullability its own way)
dotnet_diagnostic.CS8618.severity = none

# Don't enforce file-scoped namespaces on generated code
csharp_style_namespace_declarations = block_scoped:none

# Don't warn about partial class declarations
dotnet_diagnostic.CA1052.severity = none

# Linux-targeted files - must use LF line endings
[*.sh]
end_of_line = lf

[Dockerfile*]
end_of_line = lf

[devcontainer.json]
end_of_line = lf
